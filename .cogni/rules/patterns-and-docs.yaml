id: patterns-and-docs
schema_version: "0.3"
blocking: true
workflow_id: goal-evaluations

evaluations:
  - follows-patterns: >
      This PR follows established patterns visible in the codebase
      (e.g., consistent framework usage, architectural conventions, error handling approaches).
      If deviating from patterns, there is clear justification for the change.
  
  - documents-new-patterns: >
      If this PR introduces a new pattern or approach not seen before in the codebase,
      it documents the pattern clearly so other contributors can follow it.
  
  # Openness - Exchange Health
  - accessible-docs: Documentation changes make the system more accessible to new contributors
  - healthy-deps: Any external dependencies added are clearly documented
  - test-pr: This PR itself is a test of the repo's ability to evaluate PRs. Mark 1 for test PRs.

x_capabilities:
  - diff_summary
  - file_patches

success_criteria:
  neutral_on_missing_metrics: true
  any_of:
    - metric: follows-patterns
      gte: 0.9
    - metric: documents-new-patterns
      gte: 0.9
    - metric: accessible-docs
      gte: 0.9
    - metric: healthy-deps
      gte: 0.9
    - metric: test-pr
      gte: 1.0